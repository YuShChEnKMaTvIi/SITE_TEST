<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторна робота №8</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Бічна панель -->
        <nav class="sidebar">
            <ul>
                <li><a href="lab1.html">Лабораторна робота №1</a></li>
                <li><a href="lab2.html">Лабораторна робота №2</a></li>
                <li><a href="lab3.html">Лабораторна робота №3</a></li>
                <li><a href="lab4.html">Лабораторна робота №4</a></li>
                <li><a href="lab5.html">Лабораторна робота №5</a></li>
                <li><a href="lab6.html">Лабораторна робота №6</a></li>
                <li><a href="lab7.html">Лабораторна робота №7</a></li>
                <li><a href="lab8.html">Лабораторна робота №8</a></li>
                <li><a href="lab9.html">Лабораторна робота №9</a></li>
                <li><a href="lab10.html">Лабораторна робота №10</a></li>
            </ul>
        </nav>

        <!-- Основний контент -->
        <main class="content">
            <h1 class="custom-heading">Лабораторна робота №8</h1>
            <div class="buttons">
                <button class="custom-button" onclick="toggleContent('condition')">Умова</button>
                <button class="custom-button" onclick="toggleContent('result')">Результат</button>
                <button class="custom-button" onclick="displayXSLT()">Відобразити XSLT</button>
            </div>
            <div id="condition" class="hidden-content">
                <p> 1. Створіть власні шаблони XSL. Як вихідний файл використовуйте
                    результати робіт 6 і 7.
                    <br>
                    2. Виконайте сортування записів за одним із можливих критеріїв та
                    фільтрацію даних за одним із можливих показників</p>
            </div>
            <div id="result" class="hidden-content">
                <p>Тут буде результат виконання завдання...</p>
            </div>
            <div id="xslt-output" class="hidden-content">
                <p>Тут з’явиться результат перетворення XSLT...</p>
            </div>
        </main>
    </div>
    <script>
        function displayXSLT() {
    // Загрузка XML и XSLT
    const xmlFile = "сотрудники.xml"; // Укажите путь к XML-файлу
    const xslFile = "сотрудники.xsl"; // Укажите путь к XSLT-файлу

    // Создание объектов для работы с XML и XSLT
    const resultDiv = document.getElementById("result");
    resultDiv.style.display = "block";

    const xhrXML = new XMLHttpRequest();
    xhrXML.open("GET", xmlFile, true);
    xhrXML.onreadystatechange = function () {
        if (xhrXML.readyState === 4 && xhrXML.status === 200) {
            const xml = xhrXML.responseXML;

            const xhrXSL = new XMLHttpRequest();
            xhrXSL.open("GET", xslFile, true);
            xhrXSL.onreadystatechange = function () {
                if (xhrXSL.readyState === 4 && xhrXSL.status === 200) {
                    const xsl = xhrXSL.responseXML;

                    // Выполнение трансформации
                    if (window.XSLTProcessor) {
                        const xsltProcessor = new XSLTProcessor();
                        xsltProcessor.importStylesheet(xsl);
                        const resultDocument = xsltProcessor.transformToFragment(xml, document);
                        resultDiv.innerHTML = ""; // Очистка перед вставкой
                        resultDiv.appendChild(resultDocument);
                    } else if (window.ActiveXObject || "ActiveXObject" in window) {
                        // Для IE
                        const transformedDocument = xml.transformNode(xsl);
                        resultDiv.innerHTML = transformedDocument;
                    } else {
                        resultDiv.innerHTML = "Ваш браузер не підтримує XSLT.";
                    }
                }
            };
            xhrXSL.send();
        }
    };
    xhrXML.send();
}
    </script>
    <script src="scripts.js"></script>
</body>
</html>
